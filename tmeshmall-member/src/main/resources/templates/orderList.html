<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>TMesh商城订单</title>
  <link rel="stylesheet" href="../member/css/layui-v2.9.14.css">
  <link rel="stylesheet" href="/member/css/index.css">

  <style media="screen">
    * {
      font-family: "微软雅黑";
    }
  </style>

  <style type="text/css">
      .layui-table-cell{
          height: auto!important;
          white-space: normal;
      }
  </style>
    
</head>

<body>
  <div id="nav">
    <nav>
     
      <div class="myjd">
        <h3>我的TMesh商城</h3>
        <button onclick="location.href='http://tmesh.cn'">返回TMesh商城首页</button>
      </div>
      <ul class="nav_ul">
        <li style="font-size: 15px"><a href='http://tmesh.cn'>首页</a></li>
        <li class="li hover" style="font-size: 15px">账户设置<i class="ul_i"></i>
            <ol>
                <li><a href="http://member.tmesh.cn/memberInfo.html">个人信息</a></li>
                <li><a href="javaScript:void(0);">账户安全</a></li>
                <li><a href="javaScript:void(0);">我的尺码</a></li>
                <li><a href="javaScript:void(0);">账号绑定</a></li>
                <li><a href="http://member.tmesh.cn/addressInfo.html">收货地址</a></li>
                <li><a href="javaScript:void(0);">用药人信息</a></li>
                <li><a href="javaScript:void(0);">分享绑定</a></li>
                <li><a href="javaScript:void(0);">邮件订阅</a></li>
                <li><a href="javaScript:void(0);">应用授权</a></li>
                <li><a href="javaScript:void(0);">快捷支付</a></li>
                <li><a href="javaScript:void(0);">增票资质</a></li>
                <li><a href="javaScript:void(0);">企业发票</a></li>
                <li><a href="javaScript:void(0);">采购需求单</a></li>
            </ol>
        </li>
        <li class="li" style="font-size: 15px">社区<i class="ul_i"></i>
          <ol>
              <li><a href="javaScript:void(0);">个人主页</a></li>
              <li><a href="javaScript:void(0);">我的活动</a></li>
              <li><a href="javaScript:void(0);">我的圈子</a></li>
              <li><a href="javaScript:void(0);">我的帖子</a></li>
          </ol>
        </li>
        <li style="font-size: 15px">消息</li>
      </ul>
      <div class="right">
        <div class="btn">
          <input type="text" placeholder="空调"><button>搜索</button>
        </div>
        <ul class="shop">
          <li><i class="shop_che"></i><a href="http://cart.tmesh.cn/cart.html">我的购物车 ></a>
            <ol>
              <li>
                <img src="/member/img/shop.png" alt="">
                <div>购物车中还没有商品，赶紧选购吧</div>
                <div style="clear:both;"></div>
              </li>
            </ol>
          </li>
        </ul>
      </div>
      <div style="clear:both;"></div>
    </nav>

  </div>
  <div style="clear:both;"></div>
  <div id="big">
    <div id="bigLeft">
      <ul>
        <h5>设置</h5>
        <li><a href="http://member.tmesh.cn/memberInfo.html">个人信息</a></li>
        <li><a href="http://member.tmesh.cn/addressInfo.html">收货地址</a></li>
<!--        <li><img src="/member/img/59126ae3N1b306e2c.jpg" alt=""></li>-->
      </ul>
      <ul>
        <h5>订单中心</h5>
        <li><a style="color:#E4393C;font-weight:800;" href="http://member.tmesh.cn/memberOrder.html">我的订单</a></li>
        <li>我的活动</li>
        <li>评价晒单</li>
        <li>我的常购商品<img src="/member/img/new.png"></li>
        <li>购物助手</li>
      </ul>
      <ul>
        <h5>关注中心</h5>
        <li>关注的商品</li>
        <li>关注的店铺</li>
        <li>关注的专辑</li>
        <li>收藏的内容<img src="/member/img/new.png"></li>
        <li>关注的活动</li>
        <li>浏览历史</li>
      </ul>
      <ul>
        <h5>资产中心</h5>
        <li>小金库</li>
        <li>TMesh商城白条</li>
        <li>领货码</li>
        <li>余额</li>
        <li>优惠券</li>
        <li>礼品卡</li>
        <li>京豆</li>
        <li>TMesh商城钢镚<img src="/member/img/new.png"></li>
      </ul>
      <ul>
        <h5>特色业务</h5>
        <li>我的营业厅</li>
        <li>TMesh商城通信</li>
        <li>定期购</li>
        <li>我的回收单</li>
        <li>节能补贴</li>
        <li>医药服务</li>
        <li>流量加油站</li>
        <li>黄金托管</li>
        <li>视频教育订单</li>
        <li>海外房产预约</li>
        <li>我的全球购</li>
        <li>装修服务</li>
      </ul>
      <ul>
        <h5>客户服务</h5>
        <li>返修退换货</li>
        <li>价格保护</li>
        <li>意见建议</li>
        <li>我的问答</li>
        <li>购买咨询</li>
        <li>交易纠纷</li>
        <li>TMesh商城维修</li>
        <li>上门预约服务</li>
        <li>我的发票</li>
        <li>举报中心</li>
      </ul>
    </div>
    <div id="bigRight">
      <div class="myOrder">
        <p>我的订单</p>
      </div>


      <div class="allBig">
        <div class="allOrder">
          <ul class="allOrderTop">
            <li>
              <ol id="orderTop">
                <li>全部订单</li>
                <li>待付款</li>
                <li>待收货</li>
                <li>待评价</li>
                <div style="clear:both;"></div>
              </ol>
            </li>
            <li class="allOrderTopLi">我的常购商品</li>
            <li class="allOrderTopLi">好货清仓</li>
            <li class="allOrderTopLastLi">
              <span>订单回收站</span>
              <div>
                <input type="text" placeholder="商品名称/商品编号/订单号"><button class="search"></button><button calss="gao">高级<i></i></button>
              </div>
            </li>
            <div class="clear:both;"></div>
          </ul>

        </div>
<!--          <div style="padding: 16px;">
              <table class="layui-hide" id="testTable" lay-filter="testTable"></table>
          </div>-->
        <div class="details">
          <ul class="detailsUl">
            <div class="detailsUlDiv">
              <li class="detailsLiok detailsLi">近三个月订单<i class="allBig_i"></i>
                <ol>
                  <li>近三个月订单</li>
                  <li>今年内订单</li>
                  <li>今年内订单</li>
                  <li>2016年订单</li>
                  <li>2015年订单</li>
                  <li>2014年订单</li>
                  <li>2014年以前订单</li>
                </ol>
              </li>
              <li class="detailsLi">订单详情</li>
              <div style="clear:both;"></div>
            </div>

            <li class="detailsLi1">收货人</li>
            <li class="detailsLi1">金额</li>
            <li class="detailsLi1 detailsLiok">全部状态<i class="allBig_i"></i>
              <ol>
                <li>全部状态</li>
                <li>等待付款</li>
                <li>等待收货</li>
                <li>已完成</li>
                <li>已取消</li>
              </ol>
            </li>
            <li class="detailsLi1">操作</li>
            <div style="clear:both;"></div>
          </ul>
        </div>

        <table class="table" th:each="order:${orders.page.list}">
          <tr>
            <td colspan="7" style="background:#F7F7F7" >
              <span style="color:#AAAAAA">[[${order.createTime}]]</span>
              <span><ruby style="color:#AAAAAA">订单号:</ruby> [[${order.orderSn}]]</span>
              <span>TMesh商城<i class="table_i"></i></span>
              <i class="table_i5 isShow"></i>
            </td>
          </tr>
          <tr class="tr" th:each="orderItem,itemStat:${order.orderItemEntityList}">
            <td colspan="3" style="border-right: 1px solid #ccc">
              <img style="height: 60px; width: 60px;" th:src="${orderItem.skuPic}" alt="" class="img">
              <div>
                <p style="width: 242px; height: auto;overflow: auto">
                  [[${orderItem.skuName}]]
                </p>
                <div><i class="table_i4"></i>找搭配</div>
              </div>
              <div style="margin-left:15px;">x[[${orderItem.skuQuantity}]]</div>
              <div style="clear:both"></div>
            </td>
            <td th:if="${itemStat.index==0}" th:rowspan="${itemStat.size}">[[${order.receiverName}]]<i><i class="table_i1"></i></i></td>
            <td th:if="${itemStat.index==0}" th:rowspan="${itemStat.size}"style="padding-left:10px;color:#AAAAB1;">
              <p style="margin-bottom:5px;">总额 ￥[[${#numbers.formatDecimal(order.payAmount,3,2)}]]</p>
              <hr style="width:90%;">
              <p>在线支付</p>
            </td>
            <td th:if="${itemStat.index==0}" th:rowspan="${itemStat.size}">
              <ul>
                <li style="color:#71B247;" th:if="${order.status==0}">待付款</li>
                <li style="color:#71B247;" th:if="${order.status==1}">已付款</li>
                <li style="color:#71B247;" th:if="${order.status==2}">已发货</li>
                <li style="color:#71B247;" th:if="${order.status==3}">已完成</li>
                <li style="color:#71B247;" th:if="${order.status==4}">已取消</li>
                <li style="color:#71B247;" th:if="${order.status==5}">售后中</li>
                <li style="color:#71B247;" th:if="${order.status==6}">售后完成</li>
                <li style="margin:4px 0;" class="hide"><i class="table_i2"></i>跟踪<i class="table_i3"></i>
                    <div class="hi">
                      <div class="p-tit">
                        普通快递   运单号:390085324974
                      </div>
                      <div class="hideList">
                        <ul>
                          <li>
                            [北京市] 在北京昌平区南口公司进行签收扫描,快件已被拍照(您
                            的快件已签收,感谢您使用韵达快递)签收
                          </li>
                          <li>
                            [北京市] 在北京昌平区南口公司进行签收扫描,快件已被拍照(您
                            的快件已签收,感谢您使用韵达快递)签收
                          </li>
                          <li>
                            [北京昌平区南口公司] 在北京昌平区南口公司进行派件扫描
                          </li>
                          <li>
                            [北京市] 在北京昌平区南口公司进行派件扫描;派送业务员:业务员;联系电话:17319268636
                          </li>
                        </ul>
                      </div>
                    </div>
                </li>
                <li class="tdLi">订单详情</li>
              </ul>
            </td>
            <td th:if="${itemStat.index==0}" th:rowspan="${itemStat.size}">
              <button>确认收货</button>
              <p style="margin:4px 0; ">取消订单</p>
              <p>催单</p>
            </td>
          </tr>
        </table>

          <div class="order_btm">
          <div>
            <button>上一页</button>
            <span>1</span>
            <button>下一页</button>
          </div>
        </div>
        <div style="clear:both;"></div>
      </div>

      <!--<div class="buy">
        <div class="buy_top">
          <div>买什么</div>
          <div>查看更多商品专辑</div>
        </div>
        <div style="clear:both;"></div>
        <div class="buy_btm">
          <dl>
            <dt>
              <div>最适合冬季的茶</div>
              <p>不入魔不成仙</p>
            </dt>
            <dd class="ab_goods">
              <div><img src="/member/img/bu.jpg" alt=""></div>
              <div>
                <img src="/member/img/1xb.jpg" alt="">
                <img src="/member/img/1xb1.jpg" alt="">
                <div>32</div>
              </div>
            </dd>
            <div style="clear:both;"></div>
            <dd class="ab_operate">
              <ul>
                <li class="guanzhu"><i class="buy_btm_i1 buy_btm_i"></i>关注 5</li>
                <li class="zhan"><i class="buy_btm_i2 buy_btm_i0"></i>赞 5</li>
                <div style="clear:both;"></div>
              </ul>
            </dd>
          </dl>
          <dl>
            <dt>
              <div>用新奇搞怪献给那些有趣的灵魂</div>
              <p>小太阳骥少</p>
            </dt>
            <dd class="ab_goods">
              <div><img src="/member/img/bu1.jpg" alt=""></div>
              <div>
                <img src="/member/img/2xb.jpg" alt="">
                <img src="/member/img/2xb1.jpg" alt="">
                <div>17</div>
              </div>
            </dd>
            <div style="clear:both;"></div>
            <dd class="ab_operate">
              <ul>
                <li class="guanzhu"><i class="buy_btm_i1 buy_btm_i"></i>关注 5</li>
                <li class="zhan"><i class="buy_btm_i2 buy_btm_i0"></i>赞 5</li>
                <div style="clear:both;"></div>
              </ul>
            </dd>
          </dl>
          <dl>
            <dt>
              <div>流感来了，如何做好防护？</div>
              <p>tmeshmall-tmeshyuan</p>
            </dt>
            <dd class="ab_goods">
              <div><img src="/member/img/bu2.jpg" alt=""></div>
              <div>
                <img src="/member/img/3xb.jpg" alt="">
                <img src="/member/img/3xb1.jpg" alt="">
                <div>23</div>
              </div>
            </dd>
            <div style="clear:both;"></div>
            <dd class="ab_operate">
              <ul>
                <li class="guanzhu"><i class="buy_btm_i1 buy_btm_i"></i>关注 2</li>
                <li class="zhan"><i class="buy_btm_i2 buy_btm_i0"></i>赞 5</li>
                <div style="clear:both;"></div>
              </ul>
            </dd>
          </dl>
          <dl>
            <dt>
              <div>流感来了，如何做好防护？</div>
              <p>tmeshmall-tmeshyuan</p>
            </dt>
            <dd class="ab_goods">
              <div><img src="/member/img/bu3.jpg" alt=""></div>
              <div>
                <img src="/member/img/xb.jpg" alt="">
                <img src="/member/img/xb1.jpg" alt="">
                <div>23</div>
              </div>
            </dd>
            <div style="clear:both;"></div>
            <dd class="ab_operate">
              <ul>
                <li class="guanzhu"><i class="buy_btm_i1 buy_btm_i"></i>关注 4</li>
                <li class="zhan"><i class="buy_btm_i2 buy_btm_i0"></i>赞 11</li>
                <div style="clear:both;"></div>
              </ul>
            </dd>
          </dl>
          <div style="clear:both;"></div>
        </div>
      </div>-->

      <!--<div class="mySwiper">
        <div class="mySwiper_like">
          <div class="left">猜你喜欢</div>
          <ol>
            <li class="liList">1</li>
            <li class="liList">2</li>
            <li class="liList">3</li>
            <div style="clear:both"></div>
          </ol>
          <div style="clear:both"></div>
        </div>
        <ul>
          <li style="display:block;">
            <dl>
              <dt><img src="/member/image/lunbo.jpg" alt=""></dt>
              <dd>
                <div>花王 (Merries) 妙而舒 纸尿裤</div>
                <div>大号 L54片 尿不湿（9-14千克）</div>
                <p>¥83.90</p>
                <span>(已有363668人评价)</span>
              </dd>
            </dl>
            <dl>
              <dt><img src="/member/image/lunbo1.jpg" alt=""></dt>
              <dd>
                <div>三只松鼠 肉干肉脯 休闲零食</div>
                <div>猪肉脯自然片150g/袋子</div>
                <p>¥26.90</p>
                <span>(已有448374人评价)</span>
              </dd>
            </dl>
            <dl>
              <dt><img src="/member/image/lunbo2.jpg" alt=""></dt>
              <dd>
                <div>满减不止5折三只松鼠_小贱牛</div>
                <div>板筋120gx1袋休闲零食特产</div>
                <p>¥22.80</p>
                <span>(已有169149人评价)</span>
              </dd>
            </dl>
            <dl>
              <dt><img src="/member/image/lunbo3.jpg" alt=""></dt>
              <dd>


                <div>良品铺子鸭脖子 甜辣味真空小包装</div>
                <div>香辣卤味零食休闲小吃熟食190g</div>
                <p>¥21.90</p>
                <span>(已有208040人评价)</span>
              </dd>
            </dl>
            <dl>
              <dt><img src="/member/image/lunbo4.jpg" alt=""></dt>
              <dd>
                <div>欧莱雅（LOREAL）男士控油</div>
                <div>（男士洗面奶 收缩毛孔 去黑头）</div>
                <p>¥39.00</p>
                <span>(已有604670人评价)</span>
              </dd>
            </dl>
            <div style="clear:both;"></div>
          </li>
          <li>
            <dl>
              <dt><img src="/member/image/live.jpg" alt=""></dt>
              <dd>
                <div>花王 (Merries) 妙而舒 纸尿裤</div>
                <div>大号 L54片 尿不湿（9-14千克）</div>
                <p>¥83.90</p>
                <span>(已有363668人评价)</span>
              </dd>
            </dl>
            <dl>
              <dt><img src="/member/image/live1.jpg" alt=""></dt>
              <dd>
                <div>三只松鼠 肉干肉脯 休闲零食</div>
                <div>猪肉脯自然片150g/袋子</div>
                <p>¥26.90</p>
                <span>(已有448374人评价)</span>
              </dd>
            </dl>
            <dl>
              <dt><img src="/member/image/live2.jpg" alt=""></dt>
              <dd>
                <div>满减不止5折三只松鼠_小贱牛</div>
                <div>板筋120gx1袋休闲零食特产</div>
                <p>¥22.80</p>
                <span>(已有169149人评价)</span>
              </dd>
            </dl>
            <dl>
              <dt><img src="/member/image/live3.jpg" alt=""></dt>
              <dd>


                <div>良品铺子鸭脖子 甜辣味真空小包装</div>
                <div>香辣卤味零食休闲小吃熟食190g</div>
                <p>¥21.90</p>
                <span>(已有208040人评价)</span>
              </dd>
            </dl>
            <dl>
              <dt><img src="/member/image/live4.jpg" alt=""></dt>
              <dd>
                <div>欧莱雅（LOREAL）男士控油</div>
                <div>（男士洗面奶 收缩毛孔 去黑头）</div>
                <p>¥39.00</p>
                <span>(已有604670人评价)</span>
              </dd>
            </dl>
            <div style="clear:both;"></div>
          </li>
          <li>
            <dl>
              <dt><img src="/member/image/lunbo5.jpg" alt=""></dt>
              <dd>
                <div>花王 (Merries) 妙而舒 纸尿裤</div>
                <div>大号 L54片 尿不湿（9-14千克）</div>
                <p>¥83.90</p>
                <span>(已有363668人评价)</span>
              </dd>
            </dl>
            <dl>
              <dt><img src="/member/image/lunbo6.jpg" alt=""></dt>
              <dd>
                <div>三只松鼠 肉干肉脯 休闲零食</div>
                <div>猪肉脯自然片150g/袋子</div>
                <p>¥26.90</p>
                <span>(已有448374人评价)</span>
              </dd>
            </dl>
            <div style="clear:both;"></div>
          </li>
        </ul>
      </div>-->

      <div id="logo">
        <img src="/member/img/datu.jpg" alt="">
        <img src="/member/img/datu1.jpg" alt="">
      </div>
    </div>
    <div style="clear:both;"></div>
  </div>



  <div class="footer">
    <div class="top">
      <ul>
          <li class="item fore1">
              <i></i>
              品类齐全，轻松购物
          </li>
          <li class="item fore2">
              <i></i>
              多仓直发，极速配送
          </li>
          <li class="item fore3">
              <i></i>
              正品行货，精致服务


          </li>
          <li class="item fore4">
              <i></i>
              天天低价，畅选无忧


          </li>
          <div style="clear:both;"></div>
      </ul>
    </div>
    <div class="wrap">
      <div class="wrap1">
          <div class="wrap2">
             <dl>
                 <dt>购物指南</dt>
                 <dd>购物流程</dd>
                 <dd>会员介绍</dd>
                 <dd>生活旅行/团购</dd>
                 <dd>常见问题</dd>
                 <dd>大家电</dd>
                 <dd>联系客服</dd>
             </dl>
              <dl>
                  <dt>配送方式</dt>
                  <dd>上门自提</dd>
                  <dd>211限时达</dd>
                  <dd>配送服务查询</dd>
                  <dd>配送费收取标准</dd>
                  <dd>海外配送</dd>

              </dl>
              <dl>
                  <dt>支付方式</dt>
                  <dd>货到付款</dd>
                  <dd>在线支付</dd>
                  <dd>分期付款</dd>
                  <dd>邮局汇款</dd>
                  <dd>公司转账</dd>
              </dl>
              <dl>
              <dt>公司转账</dt>
              <dd>售后政策</dd>
              <dd>价格保护</dd>
              <dd>退款说明</dd>
              <dd>返修/退换货</dd>
              <dd>取消订单</dd>


          </dl>
              <dl>
                  <dt>特色服务</dt>
                  <dd>夺宝岛</dd>
                  <dd>DIY装机</dd>
                  <dd>延保服务</dd>
                  <dd>TMesh商城E卡</dd>
                  <dd>TMesh商城通信</dd>
                  <dd>TMesh商城tmeshmall+</dd>
              </dl>
          </div>
      </div>
    </div>
    <p class="p1">
        <a href="/member/#">关于我们</a>
        <a href="/member/#">联系我们</a>
        <a href="/member/#">联系客服</a>
        <a href="/member/#">合作招商</a>
        <a href="/member/#">合作招商</a>
        <a href="/member/#">营销中心</a>
        <a href="/member/#" style="width:80px;">手机TMesh商城</a>
        <a href="/member/#">友情链接</a>
        <a href="/member/#">销售联盟</a>
        <a href="/member/#" style="width:80px;">TMesh商城社区</a>
        <a href="/member/#">风险监测</a>
        <a href="/member/#">隐私政策</a>
        <a href="/member/#" style="width:80px;">TMesh商城公益</a>
        <a href="/member/#" style="width:80px;">English Site</a>
        <a href="/member/#" style="border-right: none">Contact Us</a>
    </p>
    <p class="p2">
        <a href="/member/#">X公网安备 XXXXXXXXXXXXX号</a>
        <a href="/member/#">XICP证XXXXXXX号</a>
        <a href="/member/#">互联网药品信息服务资格证编号(X)-经营性-XXXX-XXXX</a>
        <a href="/member/#">新出发X零 字第大XXXXXX号</a>
    </p>
    <p class="p3">
        <a href="/member/#">互联网出版许可证编号新出网证(X)字XXX号</a>
        <a href="/member/#">出版物经营许可证</a>
        <a href="/member/#">网络文化经营许可证京网文[XXXX]XXXX-XXXX号</a>
        <a href="/member/#">违法和不良信息举报电话：XXXXXXXXX</a>
    </p>
    <p class="p4">
        <a href="/member/#">Copyright © 2004 - 2024  TMesh商城tmesh.cn 版权所有</a>
        <a href="/member/#">消费者维权热线：XXXXXXXXXX</a>
        <a href="/member/#">经营证照</a>
    </p>
    <p class="p5">
        <a href="/member/#">TMesh商城旗下网站：TMesh商城钱包</a>
        <a href="/member/#">TMesh商城云</a>

    </p>
    <p class="img">
        <span class="span icon1"></span>
        <span class="span icon2"></span>
        <span class="span icon3"></span>
        <span class="span icon4"></span>
        <span class="span icon5"></span>
        <span class="span icon6"></span>
    </p>
    <div style="clear: both"></div>
  </div>
  <div class="fixed">
    
    <div class="teSe">
      <ul>
        <li class="test_li1">
          <ol>
            <div></div>
            <li>宽带</li>
            <li>我的旅行订单</li>
            <li>夺宝箱</li>
            <li>我的定期送</li>
            <li>我的竞拍保证金</li>
            <li>TMesh商城白条</li>
            <li>TMesh商城回收</li>
            <li>装机大师</li>
            <li>黄金托管业务</li>
          </ol>
        </li>
        <li class="test_li2"></li>
        <li><a href="/member/#" class="test_li3"></a></li>
      </ul>
    </div>
  </div>
</body>
<script src="/member/js/jquery-3.1.1.min.js"></script>
<script src="/member/js/index.js"></script>
<script src="../member/js/layui-v2.9.14.min.js"></script>

<script type="text/html" id="toolbarDemo">
    <div class="layui-btn-container">
        <button class="layui-btn layui-btn-sm" id="dropdownButton">
            近三个月订单
            <i class="layui-icon layui-icon-down layui-font-12"></i>
        </button>
        <button class="layui-btn layui-btn-sm" id="dropdownButton2">
            全部状态
            <i class="layui-icon layui-icon-down layui-font-12"></i>
        </button>
    </div>
</script>

<script type="text/html" id="barDemo">
    <div class="layui-clear-space">
        <a class="layui-btn layui-btn-xs" lay-event="edit">编辑</a>
        <a class="layui-btn layui-btn-xs" lay-event="more">
            更多
            <i class="layui-icon layui-icon-down"></i>
        </a>
    </div>
</script>
<script type="text/html" id="imgTpl">
    <img src="{{ d.imgPath }}">
</script>

<script>
    layui.use(['table', 'dropdown'], function(){
        var table = layui.table;
        var dropdown = layui.dropdown;

        // 创建渲染实例
        table.render({
            elem: '#testTable',
            url: 'http://member.tmesh.cn/order.json', // 此处为静态模拟数据，实际使用时需换成真实接口
            toolbar: '#toolbarDemo',
            defaultToolbar: ['filter', 'exports', 'print', { // 右上角工具图标
                title: '提示',
                layEvent: 'LAYTABLE_TIPS',
                icon: 'layui-icon-tips',
                onClick: function(obj) { // 2.9.12+
                    layer.alert('自定义工具栏图标按钮');
                }
            }],
            height: 'full-35', // 最大高度减去其他容器已占有的高度差
            css: [ // 重设当前表格样式
                '.layui-table-tool-temp{padding-right: 145px;}'
            ].join(''),
            cellMinWidth: 80,
            totalRow: true, // 开启合计行
            page: true,
            cols: [
                [
                {field:'orderSn', fixed: 'left', width:120, title: '订单号'},
                {field:'receiverName', width:120, title: '收货人姓名'},
                {field:'receiverPhone', width:140, title: '收货人电话'},
                {field:'receiverAddress', width:200, title: '收货人地址'},
                {field:'skuName', width:200, title: '商品名称'},
                {field: 'skuPic', title: '商品封面', templet:'#imgTpl'},
                {field:'createTime', width:200, title: '订单生成时间'},
                {fixed: 'right', title:'操作', width: 134, minWidth: 125, toolbar: '#barDemo'}
            ]
            ],
            done: function(){
                var id = this.id;
                // 下拉按钮测试
                dropdown.render({
                    elem: '#dropdownButton', // 可绑定在任意元素中，此处以上述按钮为例
                    data: [{
                        id: 'add',
                        title: '添加'
                    },{
                        id: 'update',
                        title: '编辑'
                    },{
                        id: 'delete',
                        title: '删除'
                    }],
                    // 菜单被点击的事件
                    click: function(obj){
                        var checkStatus = table.checkStatus(id)
                        var data = checkStatus.data; // 获取选中的数据
                        switch(obj.id){
                            case 'add':
                                layer.open({
                                    title: '添加',
                                    type: 1,
                                    area: ['80%','80%'],
                                    content: '<div style="padding: 16px;">自定义表单元素</div>'
                                });
                                break;
                            case 'update':
                                if(data.length !== 1) return layer.msg('请选择一行');
                                layer.open({
                                    title: '编辑',
                                    type: 1,
                                    area: ['80%','80%'],
                                    content: '<div style="padding: 16px;">自定义表单元素</div>'
                                });
                                break;
                            case 'delete':
                                if(data.length === 0){
                                    return layer.msg('请选择一行');
                                }
                                layer.msg('delete event');
                                break;
                        }
                    }
                });
            },
            error: function(res, msg){
                console.log(res, msg)
            }
        });

        // 工具栏事件
        table.on('toolbar(test)', function(obj){
            var id = obj.config.id;
            var checkStatus = table.checkStatus(id);
            var othis = lay(this);
            switch(obj.event){
                case 'getCheckData':
                    var data = checkStatus.data;
                    layer.alert(layui.util.escape(JSON.stringify(data)));
                    break;
                case 'getData':
                    var getData = table.getData(id);
                    console.log(getData);
                    layer.alert(layui.util.escape(JSON.stringify(getData)));
                    break;
            };
        });
        // 表头自定义元素工具事件 --- 2.8.8+
        table.on('colTool(test)', function(obj){
            var event = obj.event;
            console.log(obj);
            if(event === 'email-tips'){
                layer.alert(layui.util.escape(JSON.stringify(obj.col)), {
                    title: '当前列属性配置项'
                });
            }
        });

        // 触发单元格工具事件
        table.on('tool(test)', function(obj){ // 双击 toolDouble
            var data = obj.data; // 获得当前行数据
            // console.log(obj)
            if(obj.event === 'edit'){
                layer.open({
                    title: '编辑 - id:'+ data.id,
                    type: 1,
                    area: ['80%','80%'],
                    content: '<div style="padding: 16px;">自定义表单元素</div>'
                });
            } else if(obj.event === 'more'){
                // 更多 - 下拉菜单
                dropdown.render({
                    elem: this, // 触发事件的 DOM 对象
                    show: true, // 外部事件触发即显示
                    data: [{
                        title: '查看',
                        id: 'detail'
                    },{
                        title: '删除',
                        id: 'del'
                    }],
                    click: function(menudata){
                        if(menudata.id === 'detail'){
                            layer.msg('查看操作，当前行 ID:'+ data.id);
                        } else if(menudata.id === 'del'){
                            layer.confirm('真的删除行 [id: '+ data.id +'] 么', function(index){
                                obj.del(); // 删除对应行（tr）的DOM结构
                                layer.close(index);
                                // 向服务端发送删除指令
                            });
                        }
                    },
                    align: 'right', // 右对齐弹出
                    style: 'box-shadow: 1px 1px 10px rgb(0 0 0 / 12%);' // 设置额外样式
                })
            }
        });

        // 触发表格复选框选择
        table.on('checkbox(test)', function(obj){
            console.log(obj)
        });

        // 触发表格单选框选择
        table.on('radio(test)', function(obj){
            console.log(obj)
        });

        // 行单击事件
        table.on('row(test)', function(obj){
            //console.log(obj);
            //layer.closeAll('tips');
        });
        // 行双击事件
        table.on('rowDouble(test)', function(obj){
            console.log(obj);
        });

        // 单元格编辑事件
        table.on('edit(test)', function(obj){
            var field = obj.field; // 得到字段
            var value = obj.value; // 得到修改后的值
            var data = obj.data; // 得到所在行所有键值
            // 值的校验
            if(field === 'email'){
                if(!/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/.test(obj.value)){
                    layer.tips('输入的邮箱格式不正确，请重新编辑', this, {tips: 1});
                    return obj.reedit(); // 重新编辑 -- v2.8.0 新增
                }
            }
            // 编辑后续操作，如提交更新请求，以完成真实的数据更新
            // …
            layer.msg('编辑成功', {icon: 1});

            // 其他更新操作
            var update = {};
            update[field] = value;
            obj.update(update);
        });
    });
</script>
</html>
